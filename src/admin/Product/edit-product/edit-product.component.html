<div class="container" style="padding: 20px;">
    <form [formGroup]="productForm" enctype="multipart/form-data">
        <div class="form-group">
            <label>Name: </label>
            <input type="text" [class.is-invalid]="name?.invalid && (name?.touched || isSubmitButtonClicked)" formControlName="name" class="form-control">
            <div *ngIf="name?.errors && (name?.touched || isSubmitButtonClicked)">
                <small class="text-danger" *ngIf="name?.errors?.required">Name is required</small>
            </div>
        </div>

        <div class="form-group">
            <label>Details: </label>
            <textarea [class.is-invalid]="details?.invalid && (details?.touched || isSubmitButtonClicked)" formControlName="details" class="form-control"></textarea>
            <div *ngIf="details?.errors && (details?.touched || isSubmitButtonClicked)">
                <small class="text-danger" *ngIf="details?.errors?.required">Details is required</small>
            </div>
        </div>

        <div class="form-group">
            <label>Price: </label>
            <input type="number" [class.is-invalid]="price?.invalid && (price?.touched || isSubmitButtonClicked)" formControlName="price" class="form-control">
            <div *ngIf="price?.errors && (price?.touched || isSubmitButtonClicked)">
                <small class="text-danger" *ngIf="price?.errors?.required">Price is required</small>
                <small class="text-danger" *ngIf="price?.errors?.min">Minimum price is 1</small>
            </div>
        </div>

        <div class="form-group">
            <label>Image: </label><br>
            <input type="file" formControlName="image" (change)="onFileChange($event)">
        </div>

        <div class="form-group">
            <label>Quantity: </label>
            <input type="number" [class.is-invalid]="quantity?.invalid && (quantity?.touched || isSubmitButtonClicked)" formControlName="quantity" class="form-control">
            <div *ngIf="quantity?.errors && (quantity?.touched || isSubmitButtonClicked)">
                <small class="text-danger" *ngIf="quantity?.errors?.required">Quantity is required</small>
            </div>
        </div>

        <div class="form-group">
            <label>Category: </label>
            <select class="custom-select" [class.is-invalid]="categoryId?.invalid && (categoryId?.touched || isSubmitButtonClicked)" formControlName="categoryId">
                <option *ngFor="let category of categories" value="{{category.id}}">{{category.name}}
                </option>
            </select>
            <small class="text-danger" *ngIf="categoryId?.errors && (categoryId?.touched || isSubmitButtonClicked)" >Category is required</small>
        </div>
        <input type="submit" class="btn btn-primary" value="Save" (click)="submitButtonClicked()">
    </form>
</div>